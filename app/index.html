<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>*BETA* ECNU SEI One Piece</title>
    <!--bower:css-->
    <link rel="stylesheet" href="../bower_components/angular-material/angular-material.css"/>
    <!--endbower-->
    <link rel="stylesheet" href="style.css"/>
    <link href="//fonts.useso.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<script>
    function isMobile() {
        var userAgent = navigator.userAgent;
        var isAndroid = userAgent.indexOf("Android") > -1 || userAgent.indexOf("Linux") > -1;
        var isiPhone = userAgent.indexOf("iPhone") > -1;
        var isiPad = userAgent.indexOf("iPad") > -1;
        return isiPad || isiPhone || isAndroid;
    }

    if (isMobile()) {
        window.location = ("blocked.html");
    }
</script>
<body ng-cloak class="dontmove" ng-app="app" ng-controller="controller" layout="row">
<div flex></div>
<md-content layout="column" style="width: 960px;" class="md-whiteframe-3dp" layout-padding>
    <div>
        <md-subheader>想得到我的财宝吗？想要的话可以全部给你，去找吧，伟大航路！我把世界上的一切都放在那里！——
            <del>站长</del>Gol·D·Roger
        </md-subheader>
        <md-divider></md-divider>
    </div>
    <div ng-show="currentPosition.length">
        <div layout="row" layout-align="start center">
            <md-button ng-click="goBack(currentPosition.length)">
                根目录
            </md-button>
            >>
            <div ng-repeat="dir in currentPosition track by $index" layout layout-align="start center">
                <md-button ng-click="goBack(currentPosition.length - 1 - $index)" layout layout-align="start center">
                    {{dir}}
                </md-button>
                >>
            </div>
        </div>
        <md-divider ng-show="currentPosition.length"></md-divider>
    </div>
    <div flex>
        <md-list>
            <md-subheader class="md-no-sticky">当前目录</md-subheader>
            <md-list-item class="item-in-filelist" ng-repeat="content in currentDirectory.content" ng-click="goTo(content.name, $event)">
                <p ng-if="content.isDir" layout layout-align="start center">
                    <i class="material-icons">folder</i>{{content.name}}
                </p>
                <p ng-if="!content.isDir" layout layout-align="start center">
                    <i class="material-icons">attach_file</i>{{content.name}}
                </p>
                <md-button style="z-index: 100;" ng-click="moreInfo(content.name, $event)">？</md-button>
                <md-divider></md-divider>
            </md-list-item>
        </md-list>
    </div>
    <div>
        <md-divider></md-divider>
        <div layout="row" layout-align="space-around center">
            <div>BETA</div>
            <div flex></div>
            <md-button class="md-raised" ng-click="showContribute($event)">我要贡献资源</md-button>
            <md-button class="md-raised" ng-click="showAbout($event)">关于这个站点</md-button>
        </div>
    </div>
</md-content>
<div flex></div>
</body>
<!--bower:js-->
<script src="../bower_components/angular/angular.js"></script>
<script src="../bower_components/angular-animate/angular-animate.js"></script>
<script src="../bower_components/angular-aria/angular-aria.js"></script>
<script src="../bower_components/angular-material/angular-material.js"></script>
<!--endbower-->
<script src="scripts/app.js"></script>
<script src="scripts/controller.js"></script>
</html>