<md-dialog>
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h4>{{file.name}}</h4>
      <span flex></span>
      <md-button class="md-icon-button" ng-click="cancel()">
        <md-icon class="material-icons color-white adjust-icon-top-margin-up-3">close</md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content>
    <md-content layout-padding>
      <div class="no-padding" layout layout-align="start center">
        <rate file="file"></rate>
        <div flex></div>
        <md-button class="md-fab md-mini background-blue" ng-click="previewFile(file)"
                   ng-show="previewable(file)" layout layout-align="center center">
          <md-tooltip md-direction="bottom">
            预览
          </md-tooltip>
          <div>
            <md-icon ng-show="!file.gettingPreviewLink"
                     class="material-icons adjust-icon-top-margin-up-3 color-white">visibility
            </md-icon>
          </div>
          <div layout layout-align="center center">
            <md-progress-circular ng-show="file.gettingPreviewLink" class="color-white" md-mode="indeterminate"
                                  md-diameter="20">
            </md-progress-circular>
          </div>
        </md-button>
        <md-button class="md-fab md-mini background-blue" ng-click="downloadFile(file)"
                   layout layout-align="center center">
          <md-tooltip md-direction="bottom">
            {{file.gettingDownloadLink?"正在获取下载链接":formatFileSize(file)}}
          </md-tooltip>
          <div>
            <md-icon ng-show="!file.gettingDownloadLink"
                     class="material-icons adjust-icon-top-margin-up-3 color-white">cloud_download
            </md-icon>
          </div>
          <div layout layout-align="center center">
            <md-progress-circular ng-show="file.gettingDownloadLink" class="color-white" md-mode="indeterminate"
                                  md-diameter="20">
            </md-progress-circular>
          </div>
        </md-button>
      </div>
      <comment></comment>
    </md-content>
  </md-dialog-content>
</md-dialog>